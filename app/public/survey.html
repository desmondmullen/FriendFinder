<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='utf-8'>
    <title>Friend Finder Survey</title>
    <meta name='description' content='Friend Finder Survey'>
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css'>
    <script src='https://code.jquery.com/jquery.js'></script>
    <script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js'></script>
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css'>
</head>

<body>
    <a href="/home"><button>home</button></a>
    <hr>
    <div class='container'>
        <h2>Survey Questions</h2>
        <hr>
        <h3><strong>About You</strong></h3>
        <h4>Name (Required)</h4>
        <input type='text' id='name' class='form-control' required>
        <h4>Link to Photo Image (Required)</h4>
        <input type='text' id='photo' class='form-control' required>
        <hr>

        <h3><strong>What kind of friend are you looking for?</strong></h3>
        <h4>Let us know so we can do a better job selecting a friend for you.</h4>
        <select class='chosen-select' id='whatKind'>
            <option value=''></option>
            <option value='1'>I'm a male looking for female friends</option>
            <option value='2'>I'm a female looking for male friends</option>
            <option value='3'>I'm a male looking for male friends</option>
            <option value='4'>I'm a female looking for female friends</option>
        </select>

        <h3><strong>Question 1</strong></h3>
        <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
        <select class='chosen-select' id='q1'>
            <option value=''></option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Question 2</strong></h3>
        <h4>Generally speaking, you rely more on your experience than your imagination.</h4>
        <select class='chosen-select' id='q2'>
            <option value=''></option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Question 3</strong></h3>
        <h4>You find it easy to stay relaxed and focused even when there is some pressure.</h4>
        <select class='chosen-select' id='q3'>
            <option value=''></option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Question 4</strong></h3>
        <h4>You rarely do something just out of sheer curiosity.</h4>
        <select class='chosen-select' id='q4'>
            <option value=''></option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Question 5</strong></h3>
        <h4>People can rarely upset you.</h4>
        <select class='chosen-select' id='q5'>
            <option value=''></option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Question 6</strong></h3>
        <h4>It is often difficult for you to relate to other people’s feelings.</h4>
        <select class='chosen-select' id='q6'>
            <option value=''></option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Question 7</strong></h3>
        <h4>In a discussion, truth should be more important than people’s sensitivities.</h4>
        <select class='chosen-select' id='q7'>
            <option value=''></option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Question 8</strong></h3>
        <h4>You rarely get carried away by fantasies and ideas.</h4>
        <select class='chosen-select' id='q8'>
            <option value=''></option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Question 9</strong></h3>
        <h4>You think that everyone’s views should be respected regardless of whether they are supported by facts or
            not.
        </h4>
        <select class='chosen-select' id='q9'>
            <option value=''></option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Question 10</strong></h3>
        <h4>You feel more energetic after spending time with a group of people.</h4>
        <select class='chosen-select' id='q10'>
            <option value=''></option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>
        <br><br>
        <button type='submit' class='btn btn-primary btn-lg btn-block' id='submit'><i class='fa fa-check-circle'
                aria-hidden='true'></i>
            Submit</button>
    </div>
    <script type='text/javascript'>
        // In this code below we create the Front-end JavaScript which 'POSTS' our form data to our express server.
        // In essence, when the user hits submit, jQuery grabs all of the fields then sends a post request to our api
        // Our api recognizes the route (/api/tables)... and then runs the associated code (found in api-routes.js).
        // In this case the associated code 'saves' the data to the table-data.js file or waitinglist-data.js file

        $('#submit').on('click', function (event) {
            event.preventDefault();
            var userData = {
                userID: new Date().getTime(),
                name: $('#name').val(),
                photo: $('#photo').val(),
                scores: [
                    $('#whatKind').val(),
                    $('#q1').val(),
                    $('#q2').val(),
                    $('#q3').val(),
                    $('#q4').val(),
                    $('#q5').val(),
                    $('#q6').val(),
                    $('#q7').val(),
                    $('#q8').val(),
                    $('#q9').val(),
                    $('#q10').val()
                ]
            };
            console.log(userData);
            $.post('/api/friends', userData,
                function (data) {
                    if (data) {
                        alert(data);
                    }
                    else {
                        alert('no response');
                    }
                    //TODO: the following is commented out only for testing
                    // $('#name').val('');
                    // $('#photo').val('');
                    // $('#whatKind').val(''),
                    // $('#q1').val('');
                    // $('#q2').val('');
                    // $('#q3').val('');
                    // $('#q4').val('');
                    // $('#q5').val('');
                    // $('#q6').val('');
                    // $('#q7').val('');
                    // $('#q8').val('');
                    // $('#q9').val('');
                    // $('#q10').val('');
                });
        });
    </script>
</body>

</html>